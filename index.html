<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Trainer Partner</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-image: linear-gradient(135deg, #0d1117 0%, #171d2b 100%);
            font-size: 18px;
        }

        .container {
            background: #161b22;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            width: 100%;
            max-width: 900px;
            box-sizing: border-box;
            border: 1px solid #30363d;
        }

        h1 {
            text-align: center;
            color: #58a6ff;
            margin-bottom: 25px;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(88, 166, 255, 0.2);
            padding-bottom: 15px;
            border-bottom: 1px solid #30363d;
            font-size: 2.5em;
        }
        
        h2 {
            color: #58a6ff;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.8em;
        }
        
        h3 {
             font-size: 1.5em;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 400;
            color: #8b949e;
        }

        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #30363d;
            border-radius: 8px;
            background: #0d1117;
            color: #c9d1d9;
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
            font-size: 1em;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus {
            border-color: #58a6ff;
            box-shadow: 0 0 0 2px rgba(88, 166, 255, 0.3);
            outline: none;
        }
        
        input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .treino-dia {
            border: 1px solid #30363d;
            background: #1c2128;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 12px;
            position: relative;
            transition: box-shadow 0.3s;
        }
        
        .treino-dia:hover {
            box-shadow: 0 0 15px rgba(88, 166, 255, 0.1);
        }

        .treino-dia h3 {
            margin-top: 0;
            color: #58a6ff;
            font-size: 1.5em;
            border-bottom: 1px solid #30363d;
            padding-bottom: 10px;
        }
        
        .treino-dia .remover {
            position: absolute;
            top: 15px;
            right: 15px;
            color: #f87171;
            font-weight: bold;
            cursor: pointer;
            font-size: 1.1em;
            transition: color 0.3s;
        }
        
        .treino-dia .remover:hover {
            color: #dc2626;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .tecnicas-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
            margin-bottom: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            flex-basis: calc(33.333% - 15px);
            min-width: 150px;
        }
        
        .tecnicas-group .checkbox-item {
             flex-basis: calc(50% - 15px);
        }

        .checkbox-item label {
            font-weight: 300;
            font-size: 1em;
            color: #c9d1d9;
            margin-bottom: 0;
        }
        
        .form-section {
            background: #1c2128;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid #30363d;
        }

        .form-section h2 {
            border-bottom: 1px solid #30363d;
            padding-bottom: 10px;
            margin-bottom: 20px;
            color: #58a6ff;
        }

        .add-dia, button[type="submit"] {
            width: 100%;
            padding: 18px;
            font-size: 1.1em;
            font-weight: 600;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
            margin-top: 15px;
        }

        .add-dia {
            background-color: #58a6ff;
            box-shadow: 0 5px 15px rgba(88, 166, 255, 0.3);
        }

        .add-dia:hover {
            background-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(88, 166, 255, 0.4);
        }

        button[type="submit"] {
            background-color: #38c172;
            box-shadow: 0 5px 15px rgba(56, 193, 114, 0.3);
        }

        button[type="submit"]:hover {
            background-color: #2b9e59;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(56, 193, 114, 0.4);
        }
        
        /* Media Queries para responsividade */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 2em;
            }
            .checkbox-item {
                flex-basis: calc(50% - 15px);
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8em;
            }
            .checkbox-item {
                flex-basis: 100%;
            }
            .add-dia, button[type="submit"] {
                 font-size: 1em;
            }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Your Trainer Partner</h1>
        <form id="treinoForm">
            <div class="form-section">
                <h2>Informações do Aluno</h2>
                <label for="nome_aluno">Nome do Aluno:</label>
                <input type="text" id="nome_aluno" required>

                <label for="dificuldade">Nível de Dificuldade:</label>
                <select id="dificuldade" required>
                    <option value="Iniciante">Iniciante</option>
                    <option value="Intermediario">Intermediario</option>
                    <option value="Avancado">Avançado</option>
                </select>

                <label for="objetivo">Objetivo do Treino:</label>
                <select id="objetivo" required>
                    <option value="Emagrecimento">Emagrecimento</option>
                    <option value="Hipertrofia">Hipertrofia</option>
                    <option value="Condicionamento Físico Geral">Condicionamento Físico Geral</option>
                </select>
                
                <input type="checkbox" id="incluir_descricao">
                <label for="incluir_descricao" style="display:inline; font-weight:300;">Incluir descrições detalhadas dos exercícios</label>
            </div>

            <div class="form-section">
                <h2>Análise Nutricional</h2>
                <label for="peso">Peso (kg):</label>
                <input type="number" id="peso" step="0.1" required>

                <label for="altura">Altura (cm):</label>
                <input type="number" id="altura" required>

                <label for="idade">Idade:</label>
                <input type="number" id="idade" required>
                
                <label for="sexo">Sexo:</label>
                <select id="sexo" required>
                    <option value="Masculino">Masculino</option>
                    <option value="Feminino">Feminino</option>
                </select>

                <label for="fator_atividade">Nível de Atividade Física:</label>
                <select id="fator_atividade" required>
                    <option value="1.2">Sedentário (pouco ou nenhum exercício)</option>
                    <option value="1.375">Levemente Ativo (exercício leve 1-3 dias/semana)</option>
                    <option value="1.55">Moderadamente Ativo (exercício moderado 3-5 dias/semana)</option>
                    <option value="1.725">Muito Ativo (exercício intenso 6-7 dias/semana)</option>
                    <option value="1.9">Extremamente Ativo (exercício muito intenso, 2x ao dia)</option>
                </select>
            </div>
            
            <div id="diasDeTreino">
                <h2>Planilha de Treino</h2>
            </div>
            
            <button type="button" class="add-dia" onclick="adicionarDiaTreino()">+ Adicionar Dia de Treino</button>
            <button type="submit">Gerar PDF do Treino</button>
        </form>
    </div>
    
    <script>
        const EXERCICIOS = [
            // PEITO (11)
            {"nome": "Supino reto com barra", "grupoMuscular": "Peito", "subGrupo": "Médio", "estilo": "Press", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x8-10", "Avancado": "4x6"}, "descricao": "Deitado no banco reto, segure a barra, desça até o peito e empurre para cima.", "alternativa": ["Supino reto com halteres", "Supino reto na maquina"]},
            {"nome": "Supino reto com halteres", "grupoMuscular": "Peito", "subGrupo": "Médio", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12-15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Deitado no banco reto, segure um halter em cada mão, desça até a altura dos ombros e empurre para cima.", "alternativa": ["Supino reto com barra", "Supino reto na maquina"]},
            {"nome": "Supino reto na maquina", "grupoMuscular": "Peito", "subGrupo": "Médio", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12-15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sente-se na maquina, segure as alças e empurre para cima.", "alternativa": ["Supino reto com barra", "Supino reto com halteres"]},
            {"nome": "Supino inclinado com barra", "grupoMuscular": "Peito", "subGrupo": "Superior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x8-10", "Avancado": "4x6"}, "descricao": "Deitado no banco inclinado, segure a barra, desça até o peito e empurre para cima.", "alternativa": ["Supino inclinado com halteres", "Supino inclinado na maquina"]},
            {"nome": "Supino inclinado com halteres", "grupoMuscular": "Peito", "subGrupo": "Superior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Deitado no banco inclinado, segure os halteres, desça até a altura dos ombros e empurre para cima.", "alternativa": ["Supino inclinado com barra", "Supino inclinado na maquina"]},
            {"nome": "Supino inclinado na maquina", "grupoMuscular": "Peito", "subGrupo": "Superior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sente-se na maquina, segure as alças e empurre para cima.", "alternativa": ["Supino inclinado com barra", "Supino inclinado com halteres"]},
            {"nome": "Supino declinado com halteres", "grupoMuscular": "Peito", "subGrupo": "Inferior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Deitado no banco declinado, segure os halteres, desça até a altura dos ombros e empurre para cima."},
            {"nome": "Crucifixo reto com halteres", "grupoMuscular": "Peito", "subGrupo": "Médio", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Deitado no banco reto, com os halteres, realize a abdução dos ombros, focando na extensão do peitoral.", "alternativa": ["Crossover médio na polia"]},
            {"nome": "Crucifixo inclinado com halteres", "grupoMuscular": "Peito", "subGrupo": "Superior", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Deitado no banco inclinado, com os halteres, realize a abdução dos ombros, focando na extensão do peitoral superior.", "alternativa": ["Crossover baixo na polia"]},
            {"nome": "Crossover alto na polia", "grupoMuscular": "Peito", "subGrupo": "Inferior", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique em pé no centro das polias, segure as alças altas e realize a adução dos braços para baixo."},
            {"nome": "Crossover médio na polia", "grupoMuscular": "Peito", "subGrupo": "Médio", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique em pé no centro das polias, segure as alças médias e realize a adução dos braços em linha reta.", "alternativa": ["Crucifixo reto com halteres"]},
            {"nome": "Crossover baixo na polia", "grupoMuscular": "Peito", "subGrupo": "Superior", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique em pé no centro das polias, segure as alças baixas e realize a adução dos braços para cima.", "alternativa": ["Crucifixo inclinado com halteres"]},
            {"nome": "Flexão de braço", "grupoMuscular": "Peito", "subGrupo": "Médio", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x10-12", "Intermediario": "4x12-15", "Avancado": "4x15+"}, "descricao": "Com as mãos no chão na largura dos ombros, abaixe o corpo e empurre para cima."},

            // COSTAS (8)
            {"nome": "Puxada frente na polia (pegada aberta)", "grupoMuscular": "Costas", "estilo": "Puxada Vertical", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sentado, segure a barra com pegada aberta. Puxe em direção ao peito, contraindo as costas, e retorne controladamente.", "alternativa": ["Puxada frente na polia (pegada neutra)"]},
            {"nome": "Puxada frente na polia (pegada neutra)", "grupoMuscular": "Costas", "estilo": "Puxada Vertical", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sentado, segure a barra com pegada neutra. Puxe em direção ao peito, contraindo as costas, e retorne controladamente.", "alternativa": ["Puxada frente na polia (pegada aberta)"]},
            {"nome": "Pulldown com corda na polia", "grupoMuscular": "Costas", "estilo": "Puxada Vertical", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sentado, segure a corda e puxe para baixo, contraindo as costas."},
            {"nome": "Remada curvada com barra", "grupoMuscular": "Costas", "estilo": "Puxada Horizontal", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x10", "Intermediario": "4x8-10", "Avancado": "5x6-8"}, "descricao": "Com o tronco curvado, segure a barra e puxe em direção ao abdômen, mantendo os cotovelos próximos ao corpo.", "alternativa": ["Remada curvada com halteres", "Remada cavalinho"]},
            {"nome": "Remada curvada com halteres", "grupoMuscular": "Costas", "estilo": "Puxada Horizontal", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x10", "Intermediario": "4x8-10", "Avancado": "5x6-8"}, "descricao": "Com o tronco curvado, segure a barra e puxe em direção ao abdômen, mantendo os cotovelos próximos ao corpo.", "alternativa": ["Remada curvada com barra", "Remada cavalinho"]},
            {"nome": "Remada unilateral com halteres", "grupoMuscular": "Costas", "estilo": "Puxada Horizontal", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12-15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Ajoelhado em um banco, puxe o halter com uma das mãos em direção ao tronco, focando na contração da lombar e dorsal."},
            {"nome": "Remada baixa na polia", "grupoMuscular": "Costas", "estilo": "Puxada Horizontal", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12-15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sentado, puxe o triângulo em direção ao abdômen, mantendo os cotovelos próximos ao corpo.", "alternativa": ["Remada sentada na máquina"]},
            {"nome": "Remada sentada na máquina", "grupoMuscular": "Costas", "estilo": "Puxada Horizontal", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12-15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sentado na máquina, puxe as alavancas em direção ao abdômen, mantendo os cotovelos próximos ao corpo.", "alternativa": ["Remada baixa na polia"]},
            {"nome": "Remada cavalinho", "grupoMuscular": "Costas", "estilo": "Puxada Horizontal", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12-15", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Com o tronco curvado, puxe a barra em direção ao abdômen, mantendo os cotovelos próximos ao corpo.", "alternativa": ["Remada curvada com barra", "Remada curvada com halteres"]},

            // TRAPÉZIO (5)
            {"nome": "Encolhimento com barra", "grupoMuscular": "Trapézio", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Segure a barra e encolha os ombros, elevando-os em direção às orelhas.", "alternativa": ["Encolhimento com halteres", "Encolhimento na barra guiada (Smith)"]},
            {"nome": "Encolhimento com halteres", "grupoMuscular": "Trapézio", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Segure os halteres nas laterais do corpo e encolha os ombros, elevando-os em direção às orelhas.", "alternativa": ["Encolhimento com barra", "Encolhimento na barra guiada (Smith)"]},
            {"nome": "Encolhimento na barra guiada (Smith)", "grupoMuscular": "Trapézio", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Ajuste a altura da barra e encolha os ombros, elevando-os em direção às orelhas.", "alternativa": ["Encolhimento com barra", "Encolhimento com halteres"]},
            {"nome": "Remada alta com barra", "grupoMuscular": "Trapézio", "estilo": "Puxada", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Em pé, segure a barra à frente do corpo, puxe em direção ao queixo, mantendo os cotovelos para cima.", "alternativa": ["Remada alta com polia baixa"]},
            {"nome": "Remada alta com polia baixa", "grupoMuscular": "Trapézio", "estilo": "Puxada", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Segure a alça da polia baixa e puxe em direção ao queixo, mantendo os cotovelos para cima.", "alternativa": ["Remada alta com barra"]},

            // OMBRO (11)
            {"nome": "Elevação lateral com halteres", "grupoMuscular": "Ombro", "subGrupo": "Lateral", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Em pé, eleve os braços para os lados até a altura dos ombros.", "alternativa": ["Elevação lateral na polia baixa"]},
            {"nome": "Elevação frontal com halteres", "grupoMuscular": "Ombro", "subGrupo": "Anterior", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Em pé, segure os halteres e eleve os braços para a frente até a altura dos ombros.", "alternativa": ["Elevação frontal com barra reta"]},
            {"nome": "Elevação frontal com barra reta", "grupoMuscular": "Ombro", "subGrupo": "Anterior", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Em pé, segure a barra reta e eleve os braços para a frente até a altura dos ombros.", "alternativa": ["Elevação frontal com halteres"]},
            {"nome": "Desenvolvimento com barra", "grupoMuscular": "Ombro", "subGrupo": "Anterior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Em pé ou sentado, segure a barra à altura dos ombros e empurre para cima.", "alternativa": ["Desenvolvimento com halteres", "Desenvolvimento na máquina"]},
            {"nome": "Desenvolvimento com halteres", "grupoMuscular": "Ombro", "subGrupo": "Anterior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Sentado, segure os halteres à altura dos ombros e empurre para cima.", "alternativa": ["Desenvolvimento com barra", "Desenvolvimento na máquina", "Arnold press com halteres"]},
            {"nome": "Desenvolvimento na máquina", "grupoMuscular": "Ombro", "subGrupo": "Anterior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Sente-se na máquina, ajuste os braços e empurre para cima.", "alternativa": ["Desenvolvimento com barra", "Desenvolvimento com halteres", "Arnold press com halteres"]},
            {"nome": "Arnold press com halteres", "grupoMuscular": "Ombro", "subGrupo": "Anterior", "estilo": "Press", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Sentado, segure os halteres com as palmas voltadas para o corpo, gire-os e empurre para cima.", "alternativa": ["Desenvolvimento com barra", "Desenvolvimento na máquina", "Desenvolvimento com halteres"]},
            {"nome": "Elevação lateral na polia baixa", "grupoMuscular": "Ombro", "subGrupo": "Lateral", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Fique de lado para a polia, segure a alça e eleve o braço para o lado até a altura do ombro.", "alternativa": ["Elevação lateral com halteres"]},
            {"nome": "Crucifixo inverso com halteres", "grupoMuscular": "Ombro", "subGrupo": "Posterior", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12", "Avancado": "4x10-12"}, "descricao": "Incline o tronco para frente, segure os halteres e realize a abdução dos ombros.", "alternativa": ["Crucifixo inverso na máquina", "Crucifixo inverso na polia"]},
            {"nome": "Crucifixo inverso na máquina", "grupoMuscular": "Ombro", "subGrupo": "Posterior", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12", "Avancado": "4x10-12"}, "descricao": "Sente-se de frente para a máquina, segure as alças e empurre para trás.", "alternativa": ["Crucifixo inverso com halteres", "Crucifixo inverso na polia"]},
            {"nome": "Crucifixo inverso na polia", "grupoMuscular": "Ombro", "subGrupo": "Posterior", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12", "Avancado": "4x10-12"}, "descricao": "Fique de frente para a polia, segure a alça e puxe para trás.", "alternativa": ["Crucifixo inverso com halteres", "Crucifixo inverso na máquina"]},

            // BÍCEPS (10)
            {"nome": "Rosca direta com barra reta", "grupoMuscular": "Bíceps", "estilo": "Rosca", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Segure a barra com as mãos na largura dos ombros. Flexione os cotovelos para levantar a barra.", "alternativa": ["Rosca direta com barra W", "Rosca na polia baixa com barra reta", "Rosca alternada com halteres"]},
            {"nome": "Rosca direta com barra W", "grupoMuscular": "Bíceps", "estilo": "Rosca", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Segure a barra W e flexione os cotovelos para levantar a barra.", "alternativa": ["Rosca direta com barra reta", "Rosca na polia baixa com barra reta", "Rosca alternada com halteres"]},
            {"nome": "Rosca alternada com halteres", "grupoMuscular": "Bíceps", "estilo": "Rosca", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Fique em pé, segure os halteres e alterne os braços, levantando-os em direção aos ombros.", "alternativa": ["Rosca direta com barra reta", "Rosca direta com barra W"]},
            {"nome": "Rosca martelo com halteres", "grupoMuscular": "Bíceps", "estilo": "Rosca Martelo", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Segure os halteres com as palmas das mãos voltadas uma para a outra e levante os braços."},
            {"nome": "Rosca concentrada com halter", "grupoMuscular": "Bíceps", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sente-se, apoie o cotovelo na coxa e levante o halter em direção ao ombro."},
            {"nome": "Rosca no banco inclinado com halteres", "grupoMuscular": "Bíceps", "estilo": "Rosca", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Sente-se em um banco inclinado, segure os halteres e levante-os em direção aos ombros.", "alternativa": ["Rosca direta com halteres"]},
            {"nome": "Rosca no banco scott com barra W", "grupoMuscular": "Bíceps", "estilo": "Rosca Scott", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Apoie os braços no banco Scott, segure a barra W e levante-a.", "alternativa": ["Rosca no banco scott com barra reta"]},
            {"nome": "Rosca no banco scott com barra reta", "grupoMuscular": "Bíceps", "estilo": "Rosca Scott", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Apoie os braços no banco Scott, segure a barra reta e levante-a.", "alternativa": ["Rosca no banco scott com barra W"]},
            {"nome": "Rosca na polia baixa com barra reta", "grupoMuscular": "Bíceps", "estilo": "Rosca na Polia", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Fique de frente para a polia, segure a barra reta e levante os braços.", "alternativa": ["Rosca na polia baixa com corda", "Rosca direta com barra reta", "Rosca direta com barra W"]},
            {"nome": "Rosca na polia baixa com corda", "grupoMuscular": "Bíceps", "estilo": "Rosca na Polia", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Fique de frente para a polia, segure a corda e levante os braços.", "alternativa": ["Rosca na polia baixa com barra reta"]},

            // TRÍCEPS (9)
            {"nome": "Tríceps testa com barra W", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "5x8-10"}, "descricao": "Deitado, estenda a barra W acima da cabeça e flexione os cotovelos, levando-a em direção à testa.", "alternativa": ["Tríceps testa com barra reta"]},
            {"nome": "Tríceps testa com barra reta", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "5x8-10"}, "descricao": "Deitado, estenda a barra reta acima da cabeça e flexione os cotovelos, levando-a em direção à testa.", "alternativa": ["Tríceps testa com barra W"]},
            {"nome": "Tríceps francês unilateral com halter", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sentado ou em pé, segure um halter com uma das mãos e leve-o atrás da cabeça, estendendo o braço para cima.", "alternativa": ["Tríceps francês bilateral com halteres"]},
            {"nome": "Tríceps francês bilateral com halteres", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sentado ou em pé, segure um halter com as duas mãos e leve-o atrás da cabeça, estendendo os braços para cima.", "alternativa": ["Tríceps francês unilateral com halter"]},
            {"nome": "Tríceps corda na polia alta", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique de frente para a polia alta, segure a corda e empurre para baixo.", "alternativa": ["Tríceps barra reta na polia alta"]},
            {"nome": "Tríceps barra reta na polia alta", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique de frente para a polia alta, segure a barra reta e empurre para baixo.", "alternativa": ["Tríceps corda na polia alta"]},
            {"nome": "Tríceps banco (mergulho)", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x10-12", "Intermediario": "4x12-15", "Avancado": "4x15+"}, "descricao": "Apoie as mãos em um banco e o corpo no ar. Abaixe e suba o corpo, flexionando e estendendo os cotovelos."},
            {"nome": "Tríceps coice com halteres", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Incline o tronco para frente, apoie uma mão no banco e estenda o braço com o halter para trás."},
            {"nome": "Tríceps na máquina", "grupoMuscular": "Tríceps", "estilo": "Extensão de braço", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste os braços e empurre para baixo."},

            // QUADRÍCEPS (10)
            {"nome": "Agachamento livre com barra", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Agachamento", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x8-10", "Avancado": "5x6-8"}, "descricao": "Com a barra nas costas, desça o quadril até que as coxas fiquem paralelas ao chão.", "alternativa": ["Agachamento no Smith (barra guiada)"]},
            {"nome": "Agachamento no Smith (barra guiada)", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Agachamento", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Com a barra nas costas, desça o quadril, como se fosse sentar, até que as coxas fiquem paralelas ao chão.", "alternativa": ["Agachamento livre com barra"]},
            {"nome": "Leg press 45°", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Leg press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste a carga e empurre a plataforma com os pés.", "alternativa": ["Leg press horizontal"]},
            {"nome": "Leg press horizontal", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Leg press", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste a carga e empurre a plataforma com os pés.", "alternativa": ["Leg press 45°"]},
            {"nome": "Cadeira extensora", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste o rolo nas canelas e estenda as pernas."},
            {"nome": "Cadeira adutora", "grupoMuscular": "Quadríceps", "subGrupo": "Adutor", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste as almofadas nas coxas e junte as pernas."},
            {"nome": "Avanço com halteres", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Lunge", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Com os halteres nas mãos, dê um passo a frente e desça o quadril até a coxa ficar paralela ao chão.", "alternativa": ["Avanço com barra"]},
            {"nome": "Avanço com barra", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Lunge", "tipo": "composto", "dificuldade": ["Intermediante", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Com a barra nas costas, dê um passo a frente e desça o quadril até a coxa ficar paralela ao chão.", "alternativa": ["Avanço com halteres"]},
            {"nome": "Afundo com halteres", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Lunge", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Com os halteres nas mãos, dê um passo para trás e desça o quadril até a coxa ficar paralela ao chão.", "alternativa": ["Afundo com barra"]},
            {"nome": "Afundo com barra", "grupoMuscular": "Quadríceps", "subGrupo": "Completo", "estilo": "Lunge", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Com a barra nas costas, dê um passo para trás e desça o quadril até a coxa ficar paralela ao chão.", "alternativa": ["Afundo com halteres"]},

            // POSTERIOR DE COXA (7)
            {"nome": "Mesa flexora (deitado)", "grupoMuscular": "Posterior de Coxa", "estilo": "Flexão", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Deitado na máquina, prenda os tornozelos no rolo e flexione as pernas.", "alternativa": ["Cadeira flexora (sentado)", "Flexora em pé"]},
            {"nome": "Cadeira flexora (sentado)", "grupoMuscular": "Posterior de Coxa", "estilo": "Flexão", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, prenda os tornozelos no rolo e flexione as pernas.", "alternativa": ["Mesa flexora (deitado)", "Flexora em pé"]},
            {"nome": "Flexora em pé", "grupoMuscular": "Posterior de Coxa", "estilo": "Flexão", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique em pé na máquina, prenda um tornozelo no rolo e flexione a perna.", "alternativa": ["Mesa flexora (deitado)", "Cadeira flexora (sentado)"]},
            {"nome": "Stiff com halteres", "grupoMuscular": "Posterior de Coxa", "estilo": "Extensão", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8-10"}, "descricao": "Segure os halteres, mantenha as pernas esticadas e desça o tronco.", "alternativa": ["Stiff com barra", "Stiff com barra no Smith"]},
            {"nome": "Stiff com barra", "grupoMuscular": "Posterior de Coxa", "estilo": "Extensão", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8-10"}, "descricao": "Segure a barra, mantenha as pernas esticadas e desça o tronco.", "alternativa": ["Stiff com halteres", "Stiff com barra no Smith"]},
            {"nome": "Stiff com barra no Smith", "grupoMuscular": "Posterior de Coxa", "estilo": "Extensão", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8-10"}, "descricao": "Com a barra nas costas, mantenha as pernas esticadas e desça o tronco.", "alternativa": ["Stiff com halteres", "Stiff com barra"]},
            {"nome": "Levantamento terra com barra", "grupoMuscular": "Posterior de Coxa", "estilo": "Extensão", "tipo": "composto", "dificuldade": ["Avancado"], "sugerirRepeticoes": {"Iniciante": "3x8", "Intermediario": "4x6", "Avancado": "5x5"}, "descricao": "Segure a barra com as mãos, mantenha as costas retas e levante o peso usando a força das pernas e glúteos."},

            // GLÚTEO (11)
            {"nome": "Agachamento búlgaro", "grupoMuscular": "Glúteo", "estilo": "Agachamento", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Com um pé elevado em um banco e os halteres nas mãos, desça o quadril."},
            {"nome": "Agachamento sumô com halteres", "grupoMuscular": "Glúteo", "estilo": "Agachamento", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Com os pés afastados, agache segurando um halter, focando a contração nos glúteos.", "alternativa": ["Agachamento sumô com barra"]},
            {"nome": "Agachamento sumô com barra", "grupoMuscular": "Glúteo", "estilo": "Agachamento", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Com os pés afastados, agache segurando a barra, focando a contração nos glúteos.", "alternativa": ["Agachamento sumô com halteres"]},
            {"nome": "Cadeira abdutora", "grupoMuscular": "Glúteo", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste as almofadas nas coxas e abra as pernas.", "alternativa": ["Cadeira abdutora com tronco inclinado"]},
            {"nome": "Cadeira abdutora com tronco inclinado", "grupoMuscular": "Glúteo", "estilo": "Isolador", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Sente-se na máquina, ajuste as almofadas nas coxas, incline o tronco para frente e abra as pernas.", "alternativa": ["Cadeira abdutora"]},
            {"nome": "Elevação pélvica com barra", "grupoMuscular": "Glúteo", "estilo": "Elevação Pélvica", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "5x8-10"}, "descricao": "Com as costas apoiadas em um banco e a barra sobre o quadril, levante o quadril.", "alternativa": ["Elevação pélvica com halteres", "Elevação pélvica na máquina"]},
            {"nome": "Elevação pélvica com halteres", "grupoMuscular": "Glúteo", "estilo": "Elevação Pélvica", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Com as costas apoiadas em um banco e o halter sobre o quadril, levante o quadril.", "alternativa": ["Elevação pélvica com barra", "Elevação pélvica na máquina"]},
            {"nome": "Elevação pélvica na máquina", "grupoMuscular": "Glúteo", "estilo": "Elevação Pélvica", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10-12", "Avancado": "4x8-10"}, "descricao": "Com as costas apoiadas em um banco e a barra do smith sobre o quadril, levante o quadril.", "alternativa": ["Elevação pélvica com barra", "Elevação pélvica com halteres"]},
            {"nome": "Recuo na polia baixa", "grupoMuscular": "Glúteo", "estilo": "Extensão de quadril", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x10-12"}, "descricao": "Fique de frente para a polia, prenda a alça no tornozelo e estenda a perna para trás."},
            {"nome": "Recuo com halteres", "grupoMuscular": "Glúteo", "estilo": "Extensão de quadril", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8"}, "descricao": "Com os halteres nas mãos, dê um passo para trás e desça o quadril.", "alternativa": ["Recuo com barra"]},
            {"nome": "Levantamento terra sumô com barra", "grupoMuscular": "Glúteo", "estilo": "Extensão", "tipo": "composto", "dificuldade": ["Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x10", "Avancado": "4x8-10"}, "descricao": "Com os pés afastados, segure a barra e levante-a, mantendo as costas retas, focando no glúteo e posterior de coxa."},

            // PANTURRILHA (5)
            {"nome": "Elevação de gêmeos em pé (com halteres)", "grupoMuscular": "Panturrilha", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15-20", "Intermediario": "4x15", "Avancado": "4x12"}, "descricao": "Fique em pé e eleve o corpo usando a força das panturrilhas, fazendo uma pausa no ponto mais alto.", "alternativa": ["Elevação de gêmeos em pé no Smith", "Elevação de gêmeos em degrau"]},
            {"nome": "Elevação de gêmeos em pé no Smith", "grupoMuscular": "Panturrilha", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15-20", "Intermediario": "4x15", "Avancado": "4x12"}, "descricao": "Apoie os ombros na máquina e eleve o corpo usando a força das panturrilhas.", "alternativa": ["Elevação de gêmeos em pé (com halteres)", "Elevação de gêmeos em degrau"]},
            {"nome": "Elevação de gêmeos sentado na máquina", "grupoMuscular": "Panturrilha", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15-20", "Intermediario": "4x15", "Avancado": "4x12"}, "descricao": "Sente-se na máquina, ajuste a carga e eleve o corpo usando a força das panturrilhas."},
            {"nome": "Elevação de gêmeos no leg press", "grupoMuscular": "Panturrilha", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15-20", "Intermediario": "4x15", "Avancado": "4x12"}, "descricao": "Sente-se na máquina, ajuste a carga e eleve o corpo usando a força das panturrilhas."},
            {"nome": "Elevação de gêmeos em degrau", "grupoMuscular": "Panturrilha", "estilo": "Elevação", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15-20", "Intermediario": "4x15", "Avancado": "4x12"}, "descricao": "Fique com a ponta dos pés em um degrau e eleve o corpo usando a força das panturrilhas.", "alternativa": ["Elevação de gêmeos em pé (com halteres)", "Elevação de gêmeos em pé no Smith"]},

            // ANTEBRAÇO (5)
            {"nome": "Rosca inversa com barra reta", "grupoMuscular": "Antebraço", "estilo": "Extensão de punho", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Sentado, apoie os antebraços na coxa, segure a barra reta com a palma da mão para baixo e flexione os punhos para cima.", "alternativa": ["Rosca inversa com barra W", "Rosca inversa com halteres"]},
            {"nome": "Rosca inversa com barra W", "grupoMuscular": "Antebraço", "estilo": "Extensão de punho", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Sentado, apoie os antebraços na coxa, segure a barra W com a palma da mão para baixo e flexione os punhos para cima.", "alternativa": ["Rosca inversa com barra reta", "Rosca inversa com halteres"]},
            {"nome": "Rosca inversa com halteres", "grupoMuscular": "Antebraço", "estilo": "Extensão de punho", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Sentado, apoie os antebraços na coxa, segure os halteres com a palma da mão para baixo e flexione os punhos para cima.", "alternativa": ["Rosca inversa com barra reta", "Rosca inversa com barra W"]},
            {"nome": "Rosca punho (wrist curl) com barra", "grupoMuscular": "Antebraço", "estilo": "Flexão de punho", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Sentado, apoie os antebraços na coxa, segure a barra reta e flexione os punhos para cima.", "alternativa": ["Rosca punho com halteres"]},
            {"nome": "Rosca punho com halteres", "grupoMuscular": "Antebraço", "estilo": "Flexão de punho", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x12-15", "Avancado": "4x12"}, "descricao": "Sentado, apoie os antebraços na coxa, segure os halteres e flexione os punhos para cima.", "alternativa": ["Rosca punho (wrist curl) com barra"]},

            // CORE (3)
            {"nome": "Abdominal (tradicional)", "grupoMuscular": "Core", "estilo": "Flexão", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x15", "Intermediario": "4x20", "Avancado": "4x25+"}, "descricao": "Deite de costas, joelhos flexionados, mãos atrás da cabeça e suba o tronco em direção aos joelhos."},
            {"nome": "Prancha", "grupoMuscular": "Core", "estilo": "Isometria", "tipo": "composto", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x30s", "Intermediario": "4x45s", "Avancado": "4x60s+"}, "descricao": "Apoie-se nos antebraços e pontas dos pés, mantendo o corpo reto como uma prancha."},
            {"nome": "Elevação de pernas (abdominal)", "grupoMuscular": "Core", "estilo": "Flexão", "tipo": "isolador", "dificuldade": ["Iniciante", "Intermediario", "Avancado"], "sugerirRepeticoes": {"Iniciante": "3x12", "Intermediario": "4x15", "Avancado": "4x20"}, "descricao": "Deite de costas, levante as pernas esticadas e desça-as lentamente sem tocar o chão."},
        ];

        const DICAS = [
            { titulo: "1. Alimentação e Hidratação", texto: "Consuma proteínas suficientes para a recuperação muscular e carboidratos para energia. Beba bastante água antes, durante e após o treino." },
            { titulo: "2. Descanso e Recuperação", texto: "Dormir de 7 a 9 horas por noite é crucial para a recuperação muscular e produção hormonal. O crescimento acontece durante o descanso, não apenas no treino." },
            { titulo: "3. Progressão de Carga", texto: "Aumente a carga ou o número de repetições gradualmente. O progresso contínuo é a chave para a hipertrofia e aumento de força." },
            { titulo: "4. Execução e Conexão Mente-Músculo", texto: "Priorize a técnica perfeita em cada exercício. Sinta o músculo alvo contraindo e alongando para maximizar o estímulo." }
        ];

        const DESCRICOES_TECNICAS = {
            "Drop set": "Após a falha muscular em uma série, reduza imediatamente a carga e continue o exercício até a nova falha. Pode ser feito várias vezes.",
            "Rest-pause": "Faça uma série até a falha, descanse por um curto período (10-20 segundos), e continue com mais algumas repetições até a falha novamente. Repita 2-3 vezes.",
            "Superset": "Execute dois exercícios consecutivos para o mesmo grupo muscular (biset) ou para grupos musculares opostos (agonista-antagonista) sem descanso entre eles. EX: Supino Reto + Crucifixo Reto.",
            "Pré-Exaustão": "Realize um exercício isolador para o grupo muscular alvo até a falha, seguido imediatamente por um exercício composto que trabalhe o mesmo grupo. EX: Crucifixo Reto (isolador) + Supino Reto (composto).",
            "Pirâmide crescente": "Comece com mais repetições e menos peso, e em cada série subsequente, aumente o peso e diminua as repetições.",
            "Pirâmide decrescente": "Comece com menos repetições e mais peso, e em cada série subsequente, diminua o peso e aumente as repetições."
        };
        
        const TECNICAS_DISPONIVEIS = [
            "Superset", "Drop set", "Rest-pause", "Pré-Exaustão", "Pirâmide crescente", "Pirâmide decrescente"
        ];
        
        const GRUPO_COMPOSICAO_EXERCICIOS = {
            "Peito": ["Press", "Isolador"],
            "Costas": ["Puxada Vertical", "Puxada Horizontal"],
            "Ombro": ["Press", "Elevação", "Isolador"],
            "Quadríceps": ["Agachamento", "Leg press", "Lunge", "Isolador"],
            "Posterior de Coxa": ["Flexão", "Extensão"],
            "Glúteo": ["Elevação Pélvica", "Agachamento", "Extensão", "Isolador"],
            "Bíceps": ["Rosca", "Rosca Martelo", "Rosca Scott", "Rosca na Polia", "Isolador"],
            "Tríceps": ["Extensão de braço"],
            "Trapézio": ["Elevação", "Puxada"],
            "Panturrilha": ["Elevação"],
            "Antebraço": ["Flexão de punho", "Extensão de punho"],
            "Core": ["Isometria", "Flexão"]
        };


        const LIMITES_TREINO_TOTAL = {
            "Iniciante": { min: 4, max: 6 },
            "Intermediario": { min: 6, max: 7 },
            "Avancado": { min: 7, max: 8 }
        };

        const PESOS_GRUPOS = { 
            1: 1.0, // Primeiro grupo principal
            2: 0.8, // Segundo grupo
            3: 0.5  // Terceiro e demais grupos
        };

        const GRUPOS_MUSCULARES_GRANDES = ["Peito", "Costas", "Quadríceps", "Glúteo", "Ombro"];

        const LIMITES_ACESSORIOS = { // Máximo de exercícios para grupos musculares "acessórios"
            "Panturrilha": 2,
            "Trapézio": 2,
            "Antebraço": 1,
            "Core": 2
        };

        const GRUPOS_ANISTAS_ANTAGONISTAS = {
            "Peito": "Costas",
            "Costas": "Peito",
            "Bíceps": "Tríceps",
            "Tríceps": "Bíceps",
            "Quadríceps": "Posterior de Coxa",
            "Posterior de Coxa": "Quadríceps"
        };
        
        const ESTILOS_COMPATIVEIS_SUPERSET = {
            "Press": ["Isolador", "Press"],
            "Puxada Vertical": ["Puxada Horizontal", "Isolador"],
            "Puxada Horizontal": ["Puxada Vertical", "Isolador"],
            "Agachamento": ["Isolador", "Lunge"],
            "Elevação Pélvica": ["Extensão", "Agachamento", "Isolador"],
            "Rosca": ["Isolador", "Rosca Martelo"],
            "Extensão de braço": ["Isolador", "Extensão de braço"]
        };


        let gruposDisponiveis = [...new Set(EXERCICIOS.map(ex => ex.grupoMuscular))].sort();
        let diaTreinoCount = 0;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = array[j];
            }
        }
        
        function sortGruposMuscularesParaSelecao(gruposSelecionados) {
            // Remove 'Core' temporariamente para ordenação e o adiciona no final
            const gruposSemCore = gruposSelecionados.filter(g => g !== "Core");
            const corePresente = gruposSelecionados.includes("Core");

            const sortedGrupos = gruposSemCore.sort((a, b) => {
                const aGrande = GRUPOS_MUSCULARES_GRANDES.includes(a);
                const bGrande = GRUPOS_MUSCULARES_GRANDES.includes(b);

                if (aGrande && !bGrande) return -1; // A é grande, B não, A vem primeiro
                if (!aGrande && bGrande) return 1;  // B é grande, A não, B vem primeiro
                return 0; // Mantém a ordem original ou ordem alfabética se nenhum for grande
            });

            if (corePresente) {
                sortedGrupos.push("Core"); // Core sempre por último
            }
            return sortedGrupos;
        }

        function adicionarDiaTreino() {
            diaTreinoCount++;
            const diasDeTreinoContainer = document.getElementById('diasDeTreino');
            const diaTreinoDiv = document.createElement('div');
            diaTreinoDiv.classList.add('treino-dia');
            
            const gruposParaCheckboxes = gruposDisponiveis.map(grupo => `
                <div class="checkbox-item">
                    <input type="checkbox" id="grupo_dia_${diaTreinoCount}_${grupo}" name="grupos_dia_${diaTreinoCount}" value="${grupo}">
                    <label for="grupo_dia_${diaTreinoCount}_${grupo}">${grupo}</label>
                </div>
            `).join('');
            
            const tecnicasParaCheckboxes = TECNICAS_DISPONIVEIS.map(tecnica => `
                <div class="checkbox-item">
                    <input type="checkbox" id="tecnica_dia_${diaTreinoCount}_${tecnica.replace(/\s/g, '_')}" name="tecnicas_dia_${diaTreinoCount}" value="${tecnica}">
                    <label for="tecnica_dia_${diaTreinoCount}_${tecnica.replace(/\s/g, '_')}">${tecnica}</label>
                </div>
            `).join('');

            diaTreinoDiv.innerHTML = `
                <h3>Treino Dia ${String.fromCharCode(64 + diaTreinoCount)}</h3>
                <span class="remover" onclick="this.parentNode.remove()">x Remover</span>
                <label for="nome_dia_${diaTreinoCount}">Nome do Treino (opcional):</label>
                <input type="text" id="nome_dia_${diaTreinoCount}" name="nome_dia_${diaTreinoCount}" placeholder="Ex: Treino A">
                <label>Grupos Musculares (selecione em ordem de prioridade):</label>
                <div class="checkbox-group">
                    ${gruposParaCheckboxes}
                </div>
                <div style="margin-top: 20px;">
                    <label>Técnicas Avançadas (selecione as desejadas, máx. 2):</label>
                    <div class="tecnicas-group">
                        ${tecnicasParaCheckboxes}
                    </div>
                </div>
            `;
            diasDeTreinoContainer.appendChild(diaTreinoDiv);
        }
        
        function getExerciciosParaGrupo(grupo, dificuldade) {
            return EXERCICIOS.filter(ex => 
                ex.grupoMuscular === grupo && 
                ex.dificuldade.includes(dificuldade)
            );
        }
        
        function gerarTreinoAutomatico(dificuldade, grupos_musculares_selecionados, tecnicasSelecionadas) {
            let exerciciosSelecionados = [];
            let exerciciosNomesUsados = new Set();
            const limitesNivel = LIMITES_TREINO_TOTAL[dificuldade];
            
            let grupos_principais_sem_core = grupos_musculares_selecionados.filter(g => g !== "Core");
            const core_selecionado = grupos_musculares_selecionados.includes("Core");

            // Reordena os grupos selecionados (sem o Core) para dar prioridade aos grandes
            let grupos_musculares_ordenados = sortGruposMuscularesParaSelecao(grupos_principais_sem_core);
            
            // Define o número total de exercícios para o dia
            let numTotalExercicios = Math.min(Math.max(grupos_musculares_ordenados.length * 2, limitesNivel.min), limitesNivel.max);
            
            // Calcula a soma dos pesos para normalização
            const pesosAtivos = grupos_musculares_ordenados.map((_, index) => PESOS_GRUPOS[Math.min(index + 1, 3)] || PESOS_GRUPOS[3]);
            const somaPesos = pesosAtivos.reduce((a, b) => a + b, 0);

            // Calcula o número de exercícios para cada grupo com base nos pesos
            const numExerciciosPorGrupo = {};
            grupos_musculares_ordenados.forEach((grupo, index) => {
                let num = Math.round((pesosAtivos[index] / somaPesos) * numTotalExercicios);
                numExerciciosPorGrupo[grupo] = num > 0 ? num : 1; // Garante pelo menos 1
            });
            
            // Corrige para o limite de exercícios para músculos pequenos (exceto Core, que é tratado separadamente)
            grupos_musculares_ordenados.forEach(grupo => {
                if (LIMITES_ACESSORIOS[grupo] && grupo !== "Core") {
                    numExerciciosPorGrupo[grupo] = Math.min(numExerciciosPorGrupo[grupo], LIMITES_ACESSORIOS[grupo]);
                }
            });

            // Reajusta o total se necessário após os limites de acessórios
            let somaAtual = Object.values(numExerciciosPorGrupo).reduce((a, b) => a + b, 0);
            while (somaAtual > numTotalExercicios) {
                const grupoMaior = Object.keys(numExerciciosPorGrupo).reduce((a, b) => numExerciciosPorGrupo[a] > numExerciciosPorGrupo[b] ? a : b);
                if (numExerciciosPorGrupo[grupoMaior] > 1 && !LIMITES_ACESSORIOS[grupoMaior]) { // Só diminui se não for acessório e maior que 1
                    numExerciciosPorGrupo[grupoMaior]--;
                    somaAtual--;
                } else { // Se não pode diminuir mais, pare
                    break;
                }
            }
            while (somaAtual < numTotalExercicios) {
                const grupoMenor = Object.keys(numExerciciosPorGrupo).reduce((a, b) => numExerciciosPorGrupo[a] < numExerciciosPorGrupo[b] ? a : b);
                if (!LIMITES_ACESSORIOS[grupoMenor] || numExerciciosPorGrupo[grupoMenor] < LIMITES_ACESSORIOS[grupoMenor]) { // Só aumenta se não atingiu o limite de acessório
                    numExerciciosPorGrupo[grupoMenor]++;
                    somaAtual++;
                } else { // Se não pode aumentar mais, pegue outro grupo aleatório para aumentar
                    const gruposParaAumentar = grupos_musculares_ordenados.filter(g => !LIMITES_ACESSORIOS[g] || numExerciciosPorGrupo[g] < LIMITES_ACESSORIOS[g]);
                    if (gruposParaAumentar.length > 0) {
                        numExerciciosPorGrupo[gruposParaAumentar[Math.floor(Math.random() * gruposParaAumentar.length)]]++;
                        somaAtual++;
                    } else {
                        break; // Nenhum grupo pode ser aumentado
                    }
                }
            }
            
            // Seleciona os exercícios para cada grupo
            for (const grupo of grupos_musculares_ordenados) {
                const numParaAdicionar = numExerciciosPorGrupo[grupo];
                let exerciciosDoGrupo = getExerciciosParaGrupo(grupo, dificuldade);
                
                // Filtra exercícios que já estão na lista de exercícios selecionados
                let exerciciosDisponiveis = exerciciosDoGrupo.filter(ex => !exerciciosNomesUsados.has(ex.nome));

                // Organiza os exercícios por estilo para uma progressão lógica
                const estilosDoGrupo = GRUPO_COMPOSICAO_EXERCICIOS[grupo] || [];
                let tempExerciciosAdicionados = [];

                for (const estilo of estilosDoGrupo) {
                    const exerciciosDoEstilo = exerciciosDisponiveis.filter(ex => ex.estilo === estilo);
                    shuffleArray(exerciciosDoEstilo);

                    while (tempExerciciosAdicionados.length < numParaAdicionar && exerciciosDoEstilo.length > 0) {
                        const exercicio = exerciciosDoEstilo.shift();
                        // Evita alternativas já adicionadas
                        if (!exercicio.alternativa || !exercicio.alternativa.some(alt => exerciciosNomesUsados.has(alt))) {
                            tempExerciciosAdicionados.push(exercicio);
                            exerciciosNomesUsados.add(exercicio.nome);
                        }
                    }
                }
                
                // Se ainda faltam exercícios, adicione os restantes de forma aleatória, respeitando alternativas
                let restantes = exerciciosDisponiveis.filter(ex => !exerciciosNomesUsados.has(ex.nome));
                shuffleArray(restantes);
                while (tempExerciciosAdicionados.length < numParaAdicionar && restantes.length > 0) {
                     const exercicio = restantes.shift();
                      if (!exercicio.alternativa || !exercicio.alternativa.some(alt => exerciciosNomesUsados.has(alt))) {
                            tempExerciciosAdicionados.push(exercicio);
                            exerciciosNomesUsados.add(exercicio.nome);
                        }
                }
                
                exerciciosSelecionados = exerciciosSelecionados.concat(tempExerciciosAdicionados);
            }
            
            // Adiciona exercícios de Core por último se selecionado
            if (core_selecionado) {
                const numCore = LIMITES_ACESSORIOS["Core"];
                let exerciciosCore = getExerciciosParaGrupo("Core", dificuldade);
                shuffleArray(exerciciosCore);
                exerciciosSelecionados = exerciciosSelecionados.concat(exerciciosCore.slice(0, numCore));
            }

            // Aplica técnicas avançadas (opcional)
            if (tecnicasSelecionadas && tecnicasSelecionadas.length > 0) {
                aplicarTecnicasAvancadas(exerciciosSelecionados, dificuldade, tecnicasSelecionadas);
            }

            // Garante que o Core esteja no final
            const treinoPrincipal = exerciciosSelecionados.filter(ex => ex.grupoMuscular !== "Core");
            const treinoCore = exerciciosSelecionados.filter(ex => ex.grupoMuscular === "Core");

            treinoPrincipal.sort((a, b) => {
                const ordemA = grupos_musculares_ordenados.indexOf(a.grupoMuscular);
                const ordemB = grupos_musculares_ordenados.indexOf(b.grupoMuscular);
                
                if (ordemA !== ordemB) {
                    return ordemA - ordemB;
                }

                const estiloOrdemA = (GRUPO_COMPOSICAO_EXERCICIOS[a.grupoMuscular] || []).indexOf(a.estilo);
                const estiloOrdemB = (GRUPO_COMPOSICAO_EXERCICIOS[b.grupoMuscular] || []).indexOf(b.estilo);
                return estiloOrdemA - estiloOrdemB;
            });
            
            return treinoPrincipal.concat(treinoCore); // Core sempre no final
        }

        function aplicarTecnicasAvancadas(treino, dificuldade, tecnicasDesejadas) {
            let exerciciosComTecnicas = 0;
            const MAX_TECNICAS_POR_TREINO = 2;
            
            // Embaralha uma cópia do treino para seleção aleatória de exercícios
            const treinoParaTecnicas = [...treino].filter(ex => ex.grupoMuscular !== "Core" && !ex.tecnica);
            shuffleArray(treinoParaTecnicas);

            for (const tecnica of tecnicasDesejadas) {
                if (exerciciosComTecnicas >= MAX_TECNICAS_POR_TREINO) break;

                if (tecnica === "Superset") {
                    let supersetAplicado = false;
                    for (let i = 0; i < treinoParaTecnicas.length; i++) {
                        if (exerciciosComTecnicas >= MAX_TECNICAS_POR_TREINO) break;
                        const ex1 = treinoParaTecnicas[i];
                        if (ex1.tecnica) continue;

                        const estiloCompativeis = ESTILOS_COMPATIVEIS_SUPERSET[ex1.estilo];
                        if (!estiloCompativeis) continue;

                        let ex2 = null;

                        // 1. Mesmo grupo muscular (mas diferente estilo/subgrupo para complementar)
                        const possiveisEx2MesmoGrupo = EXERCICIOS.filter(e => 
                            e.grupoMuscular === ex1.grupoMuscular &&
                            e.dificuldade.includes(dificuldade) &&
                            e.nome !== ex1.nome &&
                            !treino.some(t => t.nome === e.nome && t.tecnica) &&
                            estiloCompativeis.includes(e.estilo)
                        );
                        shuffleArray(possiveisEx2MesmoGrupo);
                        if (possiveisEx2MesmoGrupo.length > 0) {
                            ex2 = possiveisEx2MesmoGrupo[0];
                        }

                        // 2. Grupo muscular antagonista
                        if (!ex2 && GRUPOS_ANISTAS_ANTAGONISTAS[ex1.grupoMuscular]) {
                            const grupoAntagonista = GRUPOS_ANISTAS_ANTAGONISTAS[ex1.grupoMuscular];
                            const possiveisEx2Antagonista = EXERCICIOS.filter(e =>
                                e.grupoMuscular === grupoAntagonista &&
                                e.dificuldade.includes(dificuldade) &&
                                !treino.some(t => t.nome === e.nome && t.tecnica) &&
                                estiloCompativeis.includes(e.estilo)
                            );
                            shuffleArray(possiveisEx2Antagonista);
                            if (possiveisEx2Antagonista.length > 0) {
                                ex2 = possiveisEx2Antagonista[0];
                            }
                        }

                        if (ex2) {
                            const indexEx1 = treino.findIndex(e => e.nome === ex1.nome);
                            if (indexEx1 !== -1) {
                                treino[indexEx1].tecnica = "Superset";
                                treino[indexEx1].supersetCom = {
                                    nome: ex2.nome,
                                    grupoMuscular: ex2.grupoMuscular,
                                    sugerirRepeticoes: ex2.sugerirRepeticoes[dificuldade] || 'N/A'
                                };
                                exerciciosComTecnicas++;
                                supersetAplicado = true;
                                break; // Aplica um superset e passa para a próxima técnica ou sai
                            }
                        }
                    }
                    if (supersetAplicado) continue; // Se aplicou superset, já conta como 1 técnica e passa para a próxima da lista
                } 
                else if (tecnica === "Pré-Exaustão") {
                    let preExaustaoAplicada = false;
                    for (let i = 0; i < treinoParaTecnicas.length; i++) {
                        if (exerciciosComTecnicas >= MAX_TECNICAS_POR_TREINO) break;

                        const isolador = treinoParaTecnicas[i];
                        if (isolador.tecnica || isolador.tipo !== "isolador" || isolador.grupoMuscular === "Core") continue;

                        const composto = EXERCICIOS.find(e => 
                            e.grupoMuscular === isolador.grupoMuscular &&
                            e.tipo === "composto" &&
                            e.dificuldade.includes(dificuldade) &&
                            !treino.some(t => t.nome === e.nome && t.tecnica)
                        );

                        if (composto) {
                            const indexIsolador = treino.findIndex(e => e.nome === isolador.nome);
                            const indexComposto = treino.findIndex(e => e.nome === composto.nome);

                            if (indexIsolador !== -1 && indexComposto === -1) { // Garante que o composto não esteja no treino ainda
                                treino[indexIsolador].tecnica = "Pré-Exaustão";
                                treino[indexIsolador].preExaustaoCom = {
                                    nome: composto.nome,
                                    grupoMuscular: composto.grupoMuscular,
                                    sugerirRepeticoes: composto.sugerirRepeticoes[dificuldade] || 'N/A'
                                };
                                // Adiciona o composto logo após o isolador na lista de treino
                                treino.splice(indexIsolador + 1, 0, composto); 
                                exerciciosComTecnicas++;
                                preExaustaoAplicada = true;
                                break;
                            }
                        }
                    }
                    if (preExaustaoAplicada) continue;
                }
                else { // Demais técnicas simples
                    for (let i = 0; i < treinoParaTecnicas.length; i++) {
                        if (exerciciosComTecnicas >= MAX_TECNICAS_POR_TREINO) break;

                        const ex = treinoParaTecnicas[i];
                        if (ex.tecnica || ex.grupoMuscular === "Core") continue; 

                        const indexEx = treino.findIndex(e => e.nome === ex.nome);
                        if (indexEx !== -1) {
                            treino[indexEx].tecnica = tecnica;
                            exerciciosComTecnicas++;
                            break; 
                        }
                    }
                }
            }
        }


        function calcularIMC(peso, altura) {
            const alturaMetros = altura / 100;
            const imc = peso / (alturaMetros * alturaMetros);
            return imc.toFixed(2);
        }

        function getIMCClassificacao(imc) {
            if (imc < 18.5) return "Abaixo do peso";
            if (imc >= 18.5 && imc < 24.9) return "Peso normal";
            if (imc >= 25 && imc < 29.9) return "Sobrepeso";
            if (imc >= 30 && imc < 34.9) return "Obesidade Grau I";
            if (imc >= 35 && imc < 39.9) return "Obesidade Grau II";
            return "Obesidade Grau III";
        }

        function calcularTMB(peso, altura, idade, sexo, fator_atividade) {
            let tmb;
            if (sexo === "Masculino") {
                tmb = 10 * peso + 6.25 * altura - 5 * idade + 5;
            } else { // Feminino
                tmb = 10 * peso + 6.25 * altura - 5 * idade - 161;
            }
            const consumoCalorico = tmb * fator_atividade;
            return {
                tmb: tmb.toFixed(2),
                consumo: consumoCalorico.toFixed(2)
            };
        }
        
        function gerarPdfTreinoSemanal(treino_semanal, dados_gerais, incluir_descricao, dados_nutricionais) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({ orientation: 'p', format: 'a4' });
            
            let y = 15;
            const margin = 15;
            const pageWidth = doc.internal.pageSize.getWidth();
            const pageHeight = doc.internal.pageSize.getHeight();

            doc.setFontSize(26);
            doc.setFont("helvetica", "bold");
            doc.setTextColor(30, 58, 95);
            doc.text("Plano de Treino Semanal", pageWidth / 2, y, { align: "center" });
            y += 12;
            
            doc.setFontSize(18);
            doc.setTextColor(51, 51, 51);
            doc.text(`Aluno: ${dados_gerais.nome_aluno}`, margin, y);
            y += 10;
            doc.setFontSize(16);
            doc.setFont("helvetica", "normal");
            doc.text(`Nível: ${dados_gerais.dificuldade} | Objetivo: ${dados_gerais.objetivo}`, margin, y);
            y += 10;
            doc.text(`Data de Criação: ${new Date().toLocaleDateString('pt-BR')}`, margin, y);
            y += 20;

            if (y > pageHeight - 50) {
                 doc.addPage();
                 y = 15;
            }
            doc.setFontSize(18);
            doc.setFont("helvetica", "bold");
            doc.setTextColor(30, 58, 95);
            doc.text("Análise Nutricional", margin, y);
            doc.line(margin, y + 2, pageWidth - margin, y + 2);
            y += 8;
            doc.setFontSize(16);
            doc.setFont("helvetica", "normal");
            doc.setTextColor(51, 51, 51);
            const imc_classificacao = getIMCClassificacao(dados_nutricionais.imc);
            doc.text(`IMC: ${dados_nutricionais.imc} (${imc_classificacao})`, margin, y);
            doc.text(`TMB: ${dados_nutricionais.tmb} kcal/dia`, margin, y + 8);
            doc.text(`Consumo Calórico Recomendado: ${dados_nutricionais.consumo} kcal/dia`, margin, y + 16);
            y += 25;
            
            if (y > pageHeight - 40) {
                doc.addPage();
                y = 15;
            }
            doc.setFontSize(18);
            doc.setFont("helvetica", "bold");
            doc.setTextColor(30, 58, 95);
            doc.text("Aquecimento (5-10 minutos)", margin, y);
            doc.line(margin, y + 2, pageWidth - margin, y + 2);
            y += 8;
            doc.setFontSize(16);
            doc.setFont("helvetica", "normal");
            doc.setTextColor(51, 51, 51);
            const aquecimentoText = "Inicie com 5 minutos de cardio leve (esteira, bicicleta) e depois faça alongamentos dinâmicos.";
            const aquecimentoLinhas = doc.splitTextToSize(aquecimentoText, pageWidth - margin * 2);
            doc.text(aquecimentoLinhas, margin, y);
            y += (aquecimentoLinhas.length * 8) + 12;
            
            treino_semanal.forEach(dia => {
                if (y > pageHeight - 60) {
                    doc.addPage();
                    y = 15;
                }

                doc.setFontSize(18);
                doc.setFont("helvetica", "bold");
                doc.setTextColor(30, 58, 95);
                doc.text(`Treino ${dia.nome_dia}`, margin, y);
                doc.line(margin, y + 2, pageWidth - margin, y + 2);
                y += 8;
                doc.setFontSize(16);
                doc.setFont("helvetica", "normal");
                doc.setTextColor(51, 51, 51);
                doc.text(`Grupos musculares: ${dia.grupos_musculares.join(', ')}`, margin, y);
                y += 10;

                const bodyData = [];
                let exercicioNum = 1;
                dia.treino.forEach((item) => {
                    const descanso = { "Iniciante": "60-90s", "Intermediario": "60s", "Avancado": "30-60s" }[dados_gerais.dificuldade];
                    const reps = item.sugerirRepeticoes[dados_gerais.dificuldade] || 'N/A';
                    
                    let obs = '';
                    if (item.tecnica === "Superset" && item.supersetCom) {
                        obs = `Técnica: Superset com ${item.supersetCom.nome} (${item.supersetCom.sugerirRepeticoes}) `;
                    } else if (item.tecnica === "Pré-Exaustão" && item.preExaustaoCom) {
                        obs = `Técnica: Pré-Exaustão com ${item.preExaustaoCom.nome} (${item.preExaustaoCom.sugerirRepeticoes})`;
                    } else if (item.tecnica) {
                        obs = `Técnica: ${item.tecnica}`;
                    }

                    bodyData.push([exercicioNum++, item.nome, reps, descanso, obs]);
                    
                    if (incluir_descricao) {
                        bodyData.push([{ content: `Descrição: ${item.descricao}`, colSpan: 5, styles: { fontSize: 10, fontStyle: 'italic' } }]);
                    }
                });

                doc.autoTable({
                    startY: y + 5,
                    head: [['#', 'Exercício', 'Séries/Reps', 'Descanso', 'Observações']],
                    body: bodyData,
                    theme: 'striped',
                    headStyles: { fillColor: [30, 58, 95], fontSize: 14 },
                    alternateRowStyles: { fillColor: [248, 250, 252] },
                    styles: { fontSize: 12, cellPadding: 3, overflow: 'linebreak' },
                    columnStyles: {
                        0: { cellWidth: 10 },
                        1: { cellWidth: 70 },
                        2: { cellWidth: 35 },
                        3: { cellWidth: 25 },
                        4: { cellWidth: 40 }
                    }
                });
                
                y = doc.lastAutoTable.finalY + 10;
            });
            
            if (y > pageHeight - 100) { // Ajuste para garantir espaço para as dicas
                doc.addPage();
                y = 15;
            }
            
            doc.setFontSize(18);
            doc.setFont("helvetica", "bold");
            doc.setTextColor(30, 58, 95);
            doc.text("Dicas para Maximizar seus Resultados", margin, y);
            doc.line(margin, y + 2, pageWidth - margin, y + 2);
            y += 10;

            const dicasBody = DICAS.map(dica => [dica.titulo, dica.texto]);

            doc.autoTable({
                startY: y,
                head: [['Tópico', 'Explicação']],
                body: dicasBody,
                theme: 'striped',
                headStyles: { fillColor: [30, 58, 95], fontSize: 14 },
                alternateRowStyles: { fillColor: [248, 250, 252] },
                styles: { fontSize: 12, cellPadding: 3, overflow: 'linebreak' },
                columnStyles: {
                    0: { cellWidth: 50 },
                    1: { cellWidth: pageWidth - margin * 2 - 50 }
                }
            });
            
            y = doc.lastAutoTable.finalY + 10;

            // Seções para descrições das técnicas avançadas
            const tecnicasAplicadasNesteTreino = new Set();
            treino_semanal.forEach(dia => {
                dia.treino.forEach(exercicio => {
                    if (exercicio.tecnica) {
                        // Para Superset e Pré-Exaustão, a técnica já está no nome do primeiro exercício
                        if (exercicio.tecnica === "Superset" && exercicio.supersetCom) {
                            tecnicasAplicadasNesteTreino.add(exercicio.tecnica);
                        } else if (exercicio.tecnica === "Pré-Exaustão" && exercicio.preExaustaoCom) {
                            tecnicasAplicadasNesteTreino.add(exercicio.tecnica);
                        } else {
                            tecnicasAplicadasNesteTreino.add(exercicio.tecnica);
                        }
                    }
                });
            });

            if (tecnicasAplicadasNesteTreino.size > 0) {
                if (y > pageHeight - (tecnicasAplicadasNesteTreino.size * 30 + 40)) { // Estimativa de espaço necessário
                    doc.addPage();
                    y = 15;
                }

                doc.setFontSize(18);
                doc.setFont("helvetica", "bold");
                doc.setTextColor(30, 58, 95);
                doc.text("Entendendo as Técnicas Avançadas", margin, y);
                doc.line(margin, y + 2, pageWidth - margin, y + 2);
                y += 10;

                const tecnicasBody = [];
                tecnicasAplicadasNesteTreino.forEach(tecnica => {
                    if (DESCRICOES_TECNICAS[tecnica]) {
                        tecnicasBody.push([tecnica, DESCRICOES_TECNICAS[tecnica]]);
                    }
                });

                doc.autoTable({
                    startY: y,
                    head: [['Técnica', 'Descrição']],
                    body: tecnicasBody,
                    theme: 'striped',
                    headStyles: { fillColor: [30, 58, 95], fontSize: 14 },
                    alternateRowStyles: { fillColor: [248, 250, 252] },
                    styles: { fontSize: 12, cellPadding: 3, overflow: 'linebreak' },
                    columnStyles: {
                        0: { cellWidth: 50 },
                        1: { cellWidth: pageWidth - margin * 2 - 50 }
                    }
                });
                y = doc.lastAutoTable.finalY + 10;
            }
            
            doc.setFontSize(12);
            doc.setTextColor(150, 150, 150);
            doc.text(`Gerado por Your Trainer Partner para: ${dados_gerais.nome_aluno} em ${new Date().toLocaleDateString('pt-BR')}`, pageWidth / 2, doc.internal.pageSize.getHeight() - 10, { align: "center" });
            
            doc.save(`treino_semanal_${dados_gerais.nome_aluno}.pdf`);
        }

        window.onload = function() {
            adicionarDiaTreino();
            document.getElementById('treinoForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const nome_aluno = document.getElementById('nome_aluno').value;
                const peso = parseFloat(document.getElementById('peso').value);
                const altura = parseInt(document.getElementById('altura').value);
                const idade = parseInt(document.getElementById('idade').value);
                const sexo = document.getElementById('sexo').value;
                const fator_atividade = parseFloat(document.getElementById('fator_atividade').value);

                const dificuldade = document.getElementById('dificuldade').value;
                const objetivo = document.getElementById('objetivo').value;
                const incluir_descricao = document.getElementById('incluir_descricao').checked;
                
                if (isNaN(peso) || isNaN(altura) || isNaN(idade)) {
                    alert("Por favor, preencha todos os campos numéricos com valores válidos.");
                    return;
                }

                const imc = calcularIMC(peso, altura);
                const { tmb, consumo } = calcularTMB(peso, altura, idade, sexo, fator_atividade);

                const dadosNutricionais = {
                    imc,
                    tmb,
                    consumo
                };
                
                const diasTreino = document.querySelectorAll('.treino-dia');
                const treinoSemanal = [];

                if (diasTreino.length === 0) {
                    alert("Por favor, adicione pelo menos um dia de treino.");
                    return;
                }

                let formularioValido = true;
                diasTreino.forEach((dia, index) => {
                    let nomeDia = dia.querySelector('input[type="text"]').value;
                    if (!nomeDia) {
                        nomeDia = `Treino ${String.fromCharCode(65 + index)}`;
                    }

                    const gruposMusculares = Array.from(dia.querySelectorAll('input[name^="grupos_dia_"]:checked'))
                                                 .map(checkbox => checkbox.value);
                    
                    if (gruposMusculares.length === 0) {
                         alert(`Por favor, selecione pelo menos um grupo muscular para o treino "${nomeDia}".`);
                         formularioValido = false;
                         return;
                    }

                    const tecnicasSelecionadas = Array.from(dia.querySelectorAll('input[name^="tecnicas_dia_"]:checked'))
                                                       .map(checkbox => checkbox.value);
                    
                    if (tecnicasSelecionadas.length > 2) {
                        alert(`No treino "${nomeDia}", você selecionou ${tecnicasSelecionadas.length} técnicas. Por favor, selecione no máximo 2 técnicas por treino.`);
                        formularioValido = false;
                        return;
                    }

                    const treinoDoDia = gerarTreinoAutomatico(dificuldade, gruposMusculares, tecnicasSelecionadas);
                    
                    treinoSemanal.push({
                        nome_dia: nomeDia,
                        grupos_musculares: gruposMusculares,
                        tecnicas_selecionadas: tecnicasSelecionadas,
                        treino: treinoDoDia
                    });
                });
                
                if (!formularioValido) {
                    return; // Interrompe o envio se o formulário não for válido
                }

                // Verifica se todos os treinos foram gerados sem problemas (ou se houve alertas específicos)
                if (treinoSemanal.length === diasTreino.length && !treinoSemanal.some(dia => dia.treino.length === 0)) {
                    const dadosGerais = {
                        nome_aluno,
                        dificuldade,
                        objetivo
                    };
                    
                    gerarPdfTreinoSemanal(treinoSemanal, dadosGerais, incluir_descricao, dadosNutricionais);
                } else if (treinoSemanal.length > 0) {
                    alert("Houve um problema ao gerar um ou mais treinos. Verifique as seleções de grupos musculares e o nível de dificuldade. Pode ser que não haja exercícios suficientes para a combinação escolhida.");
                }
            });
        };
    </script>
</body>
</html>
